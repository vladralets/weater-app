{"version":3,"sources":["components/CityWeather/CityWeather.module.scss","components/QueriesHistory/QueriesHistory.module.scss","components/Weather/CurrentWeather/CurrentWeather.module.scss","redux/slices/weatherSlices.js","components/CitySearch/CitySearch.js","components/CityWeather/CityWeather.js","components/QueriesHistory/QueriesHistory.js","redux/store/store.js","components/Weather/CurrentWeather/CurrentWeather.js","App.js","index.js","components/CitySearch/CitySearch.module.scss"],"names":["module","exports","fetchWeatherAction","createAsyncThunk","payload","a","rejectWithValue","getState","dispatch","axios","get","data","response","weatherSlice","createSlice","name","initialState","loading","error","undefined","citiesHistory","extraReducers","builder","addCase","pending","state","action","fulfilled","weather","filter","city","unshift","slice","rejected","CitySearch","useDispatch","useState","setCity","className","style","cityForm","onSubmit","e","preventDefault","label","htmlFor","input","type","id","value","onChange","target","placeholder","button","CityWeather","useSelector","currentWeather","Math","ceil","Number","main","temp","text","QueriesHistory","wrapper","title","queries","map","queryItem","queryBtn","onClick","store","configureStore","reducer","weatherReducer","CurrentWeather","useEffect","mainInfo","src","icon","alt","position","sys","country","temperature","description","humidity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84ac82f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"CityWeather_text__2dcOa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"QueriesHistory_wrapper__2pswx\",\"title\":\"QueriesHistory_title__1r_hZ\",\"queries\":\"QueriesHistory_queries__NXAY_\",\"queryItem\":\"QueriesHistory_queryItem__1o0jv\",\"queryBtn\":\"QueriesHistory_queryBtn__2bKSQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CurrentWeather_wrapper__24NY_\",\"mainInfo\":\"CurrentWeather_mainInfo__1P626\",\"position\":\"CurrentWeather_position__2iwhS\",\"temperature\":\"CurrentWeather_temperature__3x5tb\",\"description\":\"CurrentWeather_description__3FtJF\"};","import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst key = '72a15cc46bc81e06a0739bfe8356c582'\n\nexport const fetchWeatherAction = createAsyncThunk(\n    \"weather/fetch\",\n    async (payload, {rejectWithValue, getState, dispatch}) => {\n        try {\n            const {data} = await axios.get(\n                `http://api.openweathermap.org/data/2.5/weather?q=${payload}&appid=${key}`\n            );\n            return data;\n        } catch (error) {\n            if (!error?.response) {\n                throw error;\n            }\n            return rejectWithValue(error?.response?.data);\n        }\n    }\n);\n\n\nconst weatherSlice = createSlice({\n    name: \"currentWeather\",\n    initialState: {\n        loading: false,\n        error: undefined,\n        citiesHistory: []\n    },\n    extraReducers: builder => {\n        builder.addCase(fetchWeatherAction.pending, (state, action) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchWeatherAction.fulfilled, (state, action) => {\n            state.weather = action?.payload;\n            state.loading = false;\n            state.error = undefined;\n            const citiesHistory = state.citiesHistory.filter(city => city !== action.payload.name);\n            citiesHistory.unshift(action.payload.name);\n            state.citiesHistory = citiesHistory.slice(0, 5)\n        });\n        builder.addCase(fetchWeatherAction.rejected, (state, action) => {\n            state.loading = false;\n            state.weather = undefined;\n            state.error = action?.payload;\n        });\n    },\n});\n\nexport default weatherSlice.reducer","import style from './CitySearch.module.scss'\nimport { useState } from 'react';\nimport {useDispatch} from 'react-redux'\nimport {fetchWeatherAction} from '../../redux/slices/weatherSlices'\n\nimport React from 'react';\n\nconst CitySearch = () => {\n    const dispatch = useDispatch();\n\n    const [city, setCity] = useState(\"Kyiv\");\n\n    \n    return (\n        <form className={style.cityForm} onSubmit={(e) => {\n            e.preventDefault();\n            dispatch(fetchWeatherAction(city))\n            setCity('')}\n        }>\n            <label className={style.label} htmlFor=\"city\">Weater Forecast</label>\n            <div>\n                <input className={style.input} \n                        type=\"text\" \n                        id='city' \n                        value={city}\n                        onChange={e => setCity(e.target.value)}\n                        placeholder=\"Search City\"\n                        />\n                <button className={style.button}>Search</button>\n            </div>\n        </form>\n    );\n};\n\nexport default CitySearch;","import React from 'react';\nimport style from './CityWeather.module.scss'\nimport {useSelector} from 'react-redux';\n\nconst CityWeather = () => {\n    const state = useSelector(state => state);\n    const {weather} = state\n\n    const currentWeather = `${Math.ceil(Number(weather?.main.temp - 276))} °C`\n\n    return (\n        <div>\n            <p className={style.text}>{!weather ? 'Data is loading' : `${weather.name} (Today) ${currentWeather}`}</p>\n        </div>\n    );\n};\n\nexport default CityWeather;","import React from 'react';\nimport style from './QueriesHistory.module.scss'\nimport {useSelector, useDispatch} from \"react-redux\";\nimport {fetchWeatherAction} from \"../../redux/slices/weatherSlices\";\n\n\nconst QueriesHistory = () => {\n    const state = useSelector(state => state);\n    const { citiesHistory } = state\n    const dispatch = useDispatch()\n\n\n    return (\n        <div className={style.wrapper}>\n            <p className={style.title}>Last 10 queries</p>\n            <ul className={style.queries}>\n                {citiesHistory.map(city => (\n                    <li key={city} className={style.queryItem}>\n                        <button className={style.queryBtn} onClick={() => dispatch(fetchWeatherAction(city))}>{city}</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default QueriesHistory;","import {configureStore} from \"@reduxjs/toolkit\";\nimport weatherReducer from \"../slices/weatherSlices\"\n\nexport const store = configureStore({\n    reducer: weatherReducer,\n})\n\n","import React from 'react';\nimport {useEffect} from 'react'\nimport { useDispatch, useSelector} from 'react-redux';\nimport {fetchWeatherAction} from '../../../redux/slices/weatherSlices'\n\nimport style from './CurrentWeather.module.scss'\n\nconst CurrentWeather = () => {\n\n    const dispatch = useDispatch()\n    const state = useSelector(state => state);\n    const {weather} = state\n\n    useEffect(() => {\n        dispatch(fetchWeatherAction(\"Kyiv\"));\n      }, []);\n\n    return (\n        <div>\n            <div className={style.wrapper}>\n                <div className={style.mainInfo}>\n                    <img src={`https://openweathermap.org/img/wn/${weather?.weather[0].icon}.png`} alt=\"/\" />\n                    <p>{weather?.weather[0].main}</p>\n                </div>\n                <h3 className={style.position}>\n                    {weather?.name}, {weather?.sys?.country}\n                </h3>\n                <h4 className={style.temperature}>{Math.ceil(Number(weather?.main.temp - 276))} °C</h4>\n                <p className={style.description}>\n                    The weather condition in {weather?.name}, {weather?.sys?.country} is described as : {weather?.weather[0].description} with a temperature of {Math.ceil(Number(weather?.main.temp)) - 276} °C and a humidity of {weather?.main?.humidity} %\n                  </p>\n            </div>\n        </div>\n    );\n};\n\nexport default CurrentWeather;","import './App.scss';\nimport CitySearch from \"./components/CitySearch/CitySearch\";\nimport CityWeather from \"./components/CityWeather/CityWeather\";\nimport QueriesHistory from \"./components/QueriesHistory/QueriesHistory\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/store/store\";\nimport CurrentWeather from \"./components/Weather/CurrentWeather/CurrentWeather\";\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <div className=\"App\">\n                <div className='header'>\n                    <CitySearch/>\n                    <CityWeather/>\n                </div>\n                <QueriesHistory />\n                <CurrentWeather />\n            </div>\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cityForm\":\"CitySearch_cityForm__1McTv\",\"label\":\"CitySearch_label__362EK\",\"input\":\"CitySearch_input__2OVbE\",\"button\":\"CitySearch_button__29_Ik\"};"],"sourceRoot":""}