(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(e,t,r){e.exports={text:"CityWeather_text__2dcOa"}},31:function(e,t,r){},32:function(e,t,r){},4:function(e,t,r){e.exports={wrapper:"QueriesHistory_wrapper__2pswx",title:"QueriesHistory_title__1r_hZ",queries:"QueriesHistory_queries__NXAY_",queryItem:"QueriesHistory_queryItem__1o0jv",queryBtn:"QueriesHistory_queryBtn__2bKSQ"}},5:function(e,t,r){e.exports={wrapper:"CurrentWeather_wrapper__24NY_",mainInfo:"CurrentWeather_mainInfo__1P626",position:"CurrentWeather_position__2iwhS",temperature:"CurrentWeather_temperature__3x5tb",description:"CurrentWeather_description__3FtJF"}},59:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(10),c=r.n(a),o=(r(31),r(32),r(26)),s=r(7),u=r.n(s),l=r(3),d=r(13),p=r.n(d),h=r(23),j=r(6),b=r(24),v=r.n(b),m=Object(j.b)("weather/fetch",function(){var e=Object(h.a)(p.a.mark((function e(t,r){var n,i,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,r.getState,r.dispatch,e.prev=1,e.next=4,v.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("72a15cc46bc81e06a0739bfe8356c582"));case 4:return i=e.sent,a=i.data,e.abrupt("return",a);case 9:if(e.prev=9,e.t0=e.catch(1),null===e.t0||void 0===e.t0?void 0:e.t0.response){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",n(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.data));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()),_=Object(j.c)({name:"currentWeather",initialState:{loading:!1,error:void 0,citiesHistory:[]},extraReducers:function(e){e.addCase(m.pending,(function(e,t){e.loading=!0})),e.addCase(m.fulfilled,(function(e,t){e.weather=null===t||void 0===t?void 0:t.payload,e.loading=!1,e.error=void 0;var r=e.citiesHistory.filter((function(e){return e!==t.payload.name}));r.unshift(t.payload.name),e.citiesHistory=r.slice(0,5)})),e.addCase(m.rejected,(function(e,t){e.loading=!1,e.weather=void 0,e.error=null===t||void 0===t?void 0:t.payload}))}}).reducer,f=r(1),O=function(){var e=Object(l.b)(),t=Object(n.useState)("Kyiv"),r=Object(o.a)(t,2),i=r[0],a=r[1];return Object(f.jsxs)("form",{className:u.a.cityForm,onSubmit:function(t){t.preventDefault(),e(m(i)),a("")},children:[Object(f.jsx)("label",{className:u.a.label,htmlFor:"city",children:"Weater Forecast"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{className:u.a.input,type:"text",id:"city",value:i,onChange:function(e){return a(e.target.value)},placeholder:"Search City"}),Object(f.jsx)("button",{className:u.a.button,children:"Search"})]})]})},x=r(25),y=r.n(x),w=function(){var e=Object(l.c)((function(e){return e})).weather,t="".concat(Math.ceil(Number((null===e||void 0===e?void 0:e.main.temp)-276))," \xb0C");return Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:y.a.text,children:e?"".concat(e.name," (Today) ").concat(t):"Data is loading"})})},N=r(4),C=r.n(N),g=function(){var e=Object(l.c)((function(e){return e})).citiesHistory,t=Object(l.b)();return Object(f.jsxs)("div",{className:C.a.wrapper,children:[Object(f.jsx)("p",{className:C.a.title,children:"Last 10 queries"}),Object(f.jsx)("ul",{className:C.a.queries,children:e.map((function(e){return Object(f.jsx)("li",{className:C.a.queryItem,children:Object(f.jsx)("button",{className:C.a.queryBtn,onClick:function(){return t(m(e))},children:e})},e)}))})]})},S=Object(j.a)({reducer:_}),q=r(5),H=r.n(q),W=function(){var e,t,r,i=Object(l.b)(),a=Object(l.c)((function(e){return e})).weather;return Object(n.useEffect)((function(){i(m("Kyiv"))}),[]),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:H.a.wrapper,children:[Object(f.jsxs)("div",{className:H.a.mainInfo,children:[Object(f.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(null===a||void 0===a?void 0:a.weather[0].icon,".png"),alt:"/"}),Object(f.jsx)("p",{children:null===a||void 0===a?void 0:a.weather[0].main})]}),Object(f.jsxs)("h3",{className:H.a.position,children:[null===a||void 0===a?void 0:a.name,", ",null===a||void 0===a||null===(e=a.sys)||void 0===e?void 0:e.country]}),Object(f.jsxs)("h4",{className:H.a.temperature,children:[Math.ceil(Number((null===a||void 0===a?void 0:a.main.temp)-276))," \xb0C"]}),Object(f.jsxs)("p",{className:H.a.description,children:["The weather condition in ",null===a||void 0===a?void 0:a.name,", ",null===a||void 0===a||null===(t=a.sys)||void 0===t?void 0:t.country," is described as : ",null===a||void 0===a?void 0:a.weather[0].description," with a temperature of ",Math.ceil(Number(null===a||void 0===a?void 0:a.main.temp))-276," \xb0C and a humidity of ",null===a||void 0===a||null===(r=a.main)||void 0===r?void 0:r.humidity," %"]})]})})};var I=function(){return Object(f.jsx)(l.a,{store:S,children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)(O,{}),Object(f.jsx)(w,{})]}),Object(f.jsx)(g,{}),Object(f.jsx)(W,{})]})})};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root"))},7:function(e,t,r){e.exports={cityForm:"CitySearch_cityForm__1McTv",label:"CitySearch_label__362EK",input:"CitySearch_input__2OVbE",button:"CitySearch_button__29_Ik"}}},[[59,1,2]]]);
//# sourceMappingURL=main.84ac82f1.chunk.js.map